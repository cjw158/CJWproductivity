# TODO - MindWall 开发计划

> 项目待办事项和功能规划清单

## 🎯 当前状态

### ✅ 已完成的核心功能

#### 任务管理系统
- [x] 看板视图（Kanban Board）- 四列工作流
- [x] 日历视图（Calendar View）- 月历总览
- [x] 时间块视图（Time Block View）- 日程排期
- [x] 艾森豪威尔矩阵（Eisenhower Matrix）- 四象限分类
- [x] 任务 CRUD 操作
- [x] 任务状态管理（INBOX → TODO → DOING → DONE）
- [x] 任务拖拽排序和状态切换
- [x] WIP 限制（执行中最多 3 个任务）
- [x] 批量操作（Shift + 点击多选）
- [x] 右键菜单快捷操作

#### 笔记系统
- [x] 富文本编辑器
- [x] 笔记 CRUD 操作
- [x] 笔记置顶功能
- [x] Markdown 支持

#### 计划管理系统（已实现）
- [x] 计划实体（Plan）数据模型
- [x] 关键结果（KeyResult）OKR 风格管理
- [x] 计划图片（PlanImage）上传和管理
- [x] Repository 模式数据持久化
- [x] SQLite + Mock 双存储模式
- [x] 进度自动计算
- [x] 计划状态管理（active/completed/archived）
- [x] 图片画廊视图（PlansView）
- [x] 瀑布流响应式布局
- [x] Lightbox 预览（缩放、旋转、全屏）
- [x] 拖拽/点击/粘贴上传
- [x] 时间线分组展示

#### 快速捕获
- [x] Smart Capture - 自然语言日期识别
- [x] 快捷键唤起（F + J）
- [x] 双模式切换（笔记/任务）
- [x] 全局快捷键支持

#### 专注模式
- [x] Zen Mode - 可拖拽 HUD 计时器
- [x] 计时器胶囊（最小化悬浮）
- [x] 时间到提醒（闪烁 + 通知）

#### 其他功能
- [x] 灵动岛（Dynamic Island）
- [x] 每日回顾弹窗
- [x] 双主题支持（霓虹暗黑 / Apple 浅色）
- [x] 壁纸引擎（实时渲染任务到桌面）
- [x] 动态壁纸（Nebula/Matrix/Particles/Waves）
- [x] 数据备份与恢复
- [x] 设置系统（通用/快捷键/外观/开发者）

---

## 📋 计划功能待优化项

### 🔥 高优先级

#### 1. 计划列表视图
- [ ] 创建 `PlanListView.tsx` 组件（非图片模式）
- [ ] 显示计划卡片：标题、描述、进度条、状态标签
- [ ] 支持创建新计划（带表单）
- [ ] 支持编辑计划信息
- [ ] 支持删除计划（含确认弹窗）

#### 2. 关键结果管理 UI
- [ ] 在计划详情中显示关键结果列表
- [ ] 支持添加新的关键结果
- [ ] 支持更新关键结果进度（拖动滑块或输入数值）
- [ ] 支持删除关键结果
- [ ] 显示每个关键结果的完成百分比

#### 3. 计划数据 Hooks
- [ ] 实现 `usePlans()` - 获取所有计划
- [ ] 实现 `useCreatePlan()` - 创建计划 Mutation
- [ ] 实现 `useUpdatePlan()` - 更新计划 Mutation
- [ ] 实现 `useDeletePlan()` - 删除计划 Mutation
- [ ] 实现 `useKeyResults()` - 获取关键结果
- [ ] 实现关键结果的 CRUD Hooks

#### 4. 计划与任务关联
- [ ] 在 Task 表中添加 `plan_id` 字段
- [ ] 更新任务卡片显示所属计划标签
- [ ] 在计划详情中显示关联任务列表
- [ ] 支持从计划中快速创建任务
- [ ] 任务完成时更新计划的关联指标

### 📊 中优先级

#### 5. 计划搜索和筛选
- [ ] 搜索框（按标题和描述搜索）
- [ ] 状态筛选（活跃/已完成/已归档）
- [ ] 时间筛选（今天/本周/本月/自定义）
- [ ] 标签筛选（如果添加标签功能）

#### 6. 计划排序
- [ ] 按创建时间排序
- [ ] 按更新时间排序
- [ ] 按进度排序
- [ ] 按截止日期排序
- [ ] 按优先级排序（如果添加优先级字段）

#### 7. 计划统计面板
- [ ] 总计划数量
- [ ] 活跃计划数量
- [ ] 平均完成进度
- [ ] 本月完成的计划数
- [ ] 即将到期的计划提醒

#### 8. 计划时间线可视化
- [ ] 横向时间轴展示计划的起止时间
- [ ] 类似甘特图的视觉效果
- [ ] 显示计划重叠和依赖关系
- [ ] 支持拖拽调整计划时间

### 🎨 低优先级

#### 9. 计划模板系统
- [ ] 预设常见计划模板（工作 OKR、健身计划、学习计划等）
- [ ] 支持保存自定义模板
- [ ] 从模板快速创建计划

#### 10. 计划报告导出
- [ ] 导出为 PDF 格式
- [ ] 导出为 Markdown 格式
- [ ] 包含进度图表和统计数据

#### 11. 计划分享
- [ ] 生成计划分享链接
- [ ] 只读模式查看分享的计划
- [ ] 支持评论和反馈（需要后端）

#### 12. 多人协作（需要后端支持）
- [ ] 计划成员管理
- [ ] 权限控制（所有者/编辑者/查看者）
- [ ] 实时协作更新
- [ ] 活动日志（谁在何时做了什么）

---

## 🐛 已知问题

### 计划功能相关
- [ ] 图片上传在浏览器 Mock 模式下无法持久化
- [ ] 缺少计划图片的缩略图生成
- [ ] PlansView 中缺少"空状态"提示（当用户还没创建计划时）
- [ ] 删除计划时没有二次确认
- [ ] 大量图片加载时可能卡顿（需要虚拟滚动）

### 全局问题
- [ ] 数据备份不包含计划图片文件
- [ ] 夜间模式下某些颜色对比度不足
- [ ] 移动端适配不完善

---

## 🚀 功能增强建议

### 计划功能
1. **AI 辅助**
   - [ ] AI 生成关键结果建议
   - [ ] AI 分析计划进度并给出改进建议
   - [ ] 自动从手写图片中识别文字（OCR）

2. **提醒和通知**
   - [ ] 计划到期提醒
   - [ ] 进度停滞提醒（连续 N 天无更新）
   - [ ] 里程碑达成通知

3. **可视化增强**
   - [ ] 进度趋势图表（折线图）
   - [ ] 计划完成度热力图
   - [ ] 关键结果雷达图

4. **集成和导入**
   - [ ] 从其他工具导入计划（Notion、Trello 等）
   - [ ] 日历集成（Google Calendar、Outlook）
   - [ ] 与任务系统深度集成

### 其他系统增强
- [ ] 标签系统（跨任务、笔记、计划）
- [ ] 全局搜索（搜索所有内容）
- [ ] 移动端 App（React Native）
- [ ] Web 版本（云同步）
- [ ] 插件系统（允许第三方扩展）

---

## 📚 技术债务

### 代码质量
- [ ] 为 PlanRepository 添加单元测试
- [ ] 为 PlansView 添加集成测试
- [ ] 添加 E2E 测试覆盖计划流程
- [ ] 性能优化：使用 React.memo 和 useMemo
- [ ] 代码分割：进一步拆分大组件

### 文档
- [x] 创建计划功能完整指南（PLAN_FEATURE_GUIDE.md）
- [ ] 添加 API 文档（自动生成）
- [ ] 添加组件 Storybook
- [ ] 更新用户使用手册

### 基础设施
- [ ] 添加 CI/CD 自动构建
- [ ] 添加代码覆盖率检查
- [ ] 配置 ESLint 和 Prettier
- [ ] 添加 Git Hooks（pre-commit）

---

## 🎯 路线图

### v1.0（当前版本）- 核心功能完善
- 计划图片画廊 ✅
- 任务管理系统 ✅
- 笔记系统 ✅
- 基础 UI 和主题 ✅

### v1.1（下一版本）- 计划功能增强
- 计划列表视图和 CRUD UI
- 关键结果管理界面
- 计划与任务关联
- 计划搜索和筛选
- **预计发布**：2024 年 12 月

### v1.2 - 数据可视化
- 计划统计面板
- 进度图表
- 时间线可视化
- **预计发布**：2025 年 1 月

### v2.0 - 协作和集成
- 多人协作
- 云同步
- 移动端 App
- 第三方集成
- **预计发布**：2025 年 Q2

---

## 💡 贡献指南

如果你想参与开发：

1. **选择一个任务**：从上面的列表中选择一个你感兴趣的任务
2. **创建分支**：`git checkout -b feature/your-feature-name`
3. **遵循规范**：参考 [AI_GUIDE.md](./AI_GUIDE.md)
4. **提交 PR**：详细描述你的更改
5. **代码审查**：等待维护者审查

---

## 📞 联系方式

- **项目主页**：https://github.com/cjw158/CJWproductivity
- **问题反馈**：提交 GitHub Issue
- **功能建议**：在 Discussions 中讨论

---

<p align="center">
  <b>让我们一起打造更好的生产力工具！</b><br>
  <i>Last Updated: 2024-12-07</i>
</p>
